<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Cognitive Bias Matcher - PCA Presentation (v6)</title>
  <style>
    /* ------------------ RESET / BASICS ------------------ */
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    :root{
      --bg1:#606cfd; --bg2:#8a6de9; --bg3:#b58cff;
      --ink:#1d2130; --muted:#5d6278; --muted2:#7b81a1;
      --brand:#667eea; --brand2:#764ba2;
      --good:#2e7d32; --bad:#c62828;
      --card:#ffffff; --card2:#f7f8ff; --card3:#eef1ff;
      --ring:#dfe4ff;
      --radius-lg:16px; --radius-md:12px; --radius-sm:8px;
      --pad-lg:16px; --pad-md:14px; --pad-sm:10px;
      --shadow:0 10px 25px rgba(0,0,0,.15);
      --shadow-soft:0 8px 20px rgba(0,0,0,.10);
    }

    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(1200px 800px at 10% 10%, #7aa2ff22, transparent 60%),
        radial-gradient(1000px 700px at 90% 20%, #e7b6ff22, transparent 60%),
        linear-gradient(135deg,var(--bg1) 0%,var(--bg2) 50%,var(--bg3) 100%);
      color:var(--ink);
      height:100vh; overflow:hidden;
      display:flex; align-items:center; justify-content:center;
      padding:8px;
    }

    .container{width:96vw; height:94vh; display:flex; flex-direction:column}
    .card{
      background:var(--card);
      border-radius:var(--radius-lg);
      box-shadow:var(--shadow), inset 0 0 15px rgba(255,255,255,.08);
      padding:var(--pad-lg);
      animation:fadeIn .35s ease;
      border:1px solid rgba(255,255,255,.08);
    }

    /* ------------------ WELCOME ------------------ */
    .welcome{height:100%; display:grid; place-items:center}
    .welcome-inner{max-width:980px}
    .welcome h1{
      font-size:clamp(1.6rem,3.2vw,2.6rem);
      color:#fff; text-shadow:0 2px 16px rgba(0,0,0,.25);
      margin-bottom:14px; text-align:center; font-weight:800; letter-spacing:.3px;
    }
    .welcome .card h2{color:#f5f7ff;font-size:1.15rem;margin-bottom:6px;background:linear-gradient(90deg,#eaf0ff,#ffffff33);-webkit-background-clip:text;background-clip:text;color:transparent}
    .welcome .card p{color:#eef1ff;line-height:1.55;font-size:1rem;margin:10px auto;max-width:860px}
    .actions{display:flex;gap:12px;justify-content:center;margin-top:16px;flex-wrap:wrap}
    .btn{
      background:linear-gradient(135deg,#6b73ff 0%, #000dff 100%);
      color:#fff; border:0; border-radius:999px;
      padding:12px 18px; font-size:0.98rem; font-weight:600;
      cursor:pointer; box-shadow:0 10px 24px rgba(0,13,255,.35);
      transition:transform .16s ease, box-shadow .16s ease, filter .16s ease;
    }
    .btn:hover{transform:translateY(-2px); box-shadow:0 14px 34px rgba(0,13,255,.45)}
    .btn.secondary{
      background:#fff; color:#3840e6; border:2px solid #4b54f4; box-shadow:none;
    }
    .btn.secondary:hover{filter:brightness(.98)}

    /* ------------------ GAME LAYOUT ------------------ */
    .game{display:none; height:100%; grid-template-rows:auto 10px 1fr; gap:8px}
    .header{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .title{
      color:#fff; text-shadow:0 2px 16px rgba(0,0,0,.3);
      font-weight:800; font-size:clamp(1.1rem,2.2vw,1.6rem); letter-spacing:.4px;
    }
    .hud.card{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 14px}
    .stat{display:flex; align-items:center; gap:8px; font-weight:700; color:#e9ebff}
    .stat small{color:#cfd4ff; font-weight:500}
    .progress.card{padding:0; overflow:hidden; border-radius:12px; background:#ffffff55}
    .bar{
      height:10px; width:0;
      background:linear-gradient(90deg,#4caf50 0%,#8bc34a 100%);
      color:#fff; font-size:.72rem; line-height:10px; text-align:center;
      transition:width .45s ease
    }

    .main{
      display:grid; grid-template-columns:1.25fr 1fr; gap:8px;
      height:calc(100% - 0px);
    }

    /* ------------------ SCENARIO (LEFT) ------------------ */
    .scenario.card{
      position:relative; display:grid; grid-template-rows:auto auto 1fr auto;
      place-items:center; text-align:center; overflow:hidden; border:0;
      background:
        radial-gradient(800px 480px at 110% -10%, #f2f4ff 0%, transparent 60%),
        radial-gradient(600px 360px at -10% 110%, #f7f8ff 0%, transparent 60%),
        linear-gradient(180deg, #ffffff 0%, #fbfbff 100%);
      border:1px solid var(--ring);
    }

    .illustration{position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; z-index:0; opacity:.14}
    .pattern{width:min(560px,78%); height:auto; animation:float 14s ease-in-out infinite alternate; filter:blur(1px) saturate(1.06)}
    @keyframes float{from{transform:translateY(-6px)}to{transform:translateY(6px)}}

    .scenario-inner{
      position:relative; z-index:1; width:min(920px,94%);
      background:linear-gradient(180deg, var(--card2) 0%, var(--card3) 100%);
      border:1px solid var(--ring); border-radius:var(--radius-lg);
      padding:18px 18px; box-shadow:var(--shadow-soft);
      animation:slideIn .4s ease both;
    }

    .label{
      color:#6a6fe9; font-size:.75rem; font-weight:800; letter-spacing:1.2px;
      text-transform:uppercase; margin-bottom:8px
    }

    .scenario-img{max-width:240px; border-radius:12px; margin:8px 0 12px; box-shadow:0 4px 12px rgba(0,0,0,.2); display:none}

    .dragSrc{
      user-select:none; cursor:grab; background:#fff;
      border:1.5px dashed #8ea0ff; padding:18px; border-radius:14px;
      max-width:96%; min-height:148px; display:grid; place-items:center;
    }
    .dragSrc:active{cursor:grabbing}
    .scenario .text{font-size:clamp(1.02rem,1.5vw,1.18rem); line-height:1.62; color:var(--ink); max-width:820px}
    .dragTip{font-size:.84rem; color:var(--muted); margin-top:10px}

    /* ------------------ CHOICES (RIGHT) ------------------ */
    .choices.card{display:grid; grid-template-rows:auto 1fr; overflow:hidden; padding:12px}
    .choices h3{color:#eef1ff; margin:4px 8px 8px; font-weight:800}
    .targets{
      display:grid; gap:8px; align-content:start; padding:2px;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));  /* 2 columns on desktop when space allows */
    }
    .tile{
      display:flex; align-items:flex-start; gap:10px;
      border-radius:12px; border:2px solid transparent;
      background:linear-gradient(135deg,#f5f7fa 0%,#cfd8ef 100%);
      padding:10px 12px; transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
      min-height:72px; animation:fadeIn .3s ease both;
    }
    .tile:hover{transform:translateY(-2px); box-shadow:0 6px 16px rgba(0,0,0,.18); border-color:#7f8cff; background:linear-gradient(135deg,#e3f2fd 0%,#bbdefb 100%)}
    .letter{
      background:#667eea; color:#fff; width:30px; height:30px;
      display:grid; place-items:center; border-radius:999px; font-weight:800; flex-shrink:0; margin-top:2px;
    }
    .tile.correct{background:linear-gradient(135deg,#84fab0 0%,#8fd3f4 100%); border-color:var(--good)}
    .tile.incorrect{background:linear-gradient(135deg,#ff9a9e 0%,#fecfef 100%); border-color:var(--bad)}
    .tname{font-weight:800; color:#1a1f2e; font-size:.98rem}
    .tcat{font-size:.78rem; color:#4f578d; font-style:italic; margin-top:1px}
    .tdesc{font-size:.82rem; color:#3b3f55; margin-top:3px}

    /* ------------------ OVERLAY ------------------ */
    .overlay{position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; z-index:999; animation:fadeIn .2s ease}
    .overlay.show{display:flex}
    .fbox{
      background:#fff; padding:32px 44px; border-radius:14px; text-align:center;
      box-shadow:0 16px 36px rgba(0,0,0,.35); animation:scaleIn .25s ease; max-width:760px; position:relative
    }
    .fbox h2{font-size:2.05rem; margin-bottom:8px}
    .fbox.correct h2{color:var(--good)}
    .fbox.incorrect h2{color:var(--bad)}
    .fbox p{color:#444; font-size:1.02rem}
    .explain{margin-top:8px; color:#333; font-size:.98rem}
    .closex{position:absolute; top:10px; right:10px; border:none; background:#eef; color:#4b57d6; width:34px; height:34px; border-radius:50%; font-weight:800; cursor:pointer}
    .closex:hover{filter:brightness(.95)}
    .stay{margin-top:10px; font-size:.84rem; color:#666}

    /* ------------------ DONE ------------------ */
    .done{display:none; height:100%; place-items:center; text-align:center}
    .done h1{color:#4caf50; font-size:clamp(1.6rem,3vw,2.6rem); margin-bottom:10px}
    .stats{display:flex; gap:16px; justify-content:center; margin:14px 0 8px; flex-wrap:wrap}
    .statbox{
      background:linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);
      color:#fff; padding:18px 24px; border-radius:14px; min-width:160px
    }
    .statbox .lab{opacity:.92; font-size:.95rem}
    .statbox .val{font-weight:800; font-size:2rem}

    /* ------------------ ANIMATIONS ------------------ */
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes slideIn{from{opacity:0; transform:translateY(14px)}to{opacity:1; transform:translateY(0)}}
    @keyframes scaleIn{from{transform:scale(.92)}to{transform:scale(1)}}

    /* ------------------ RESPONSIVE ------------------ */
    @media (max-width:1100px){
      .main{grid-template-columns:1fr; grid-template-rows:1fr 1fr}
      .choices.card{padding:10px}
    }
    @media (max-width:600px){
      .btn{width:100%}
      .scenario .text{max-width:96%}
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- WELCOME -->
    <section class="welcome" id="welcome">
      <div class="welcome-inner">
        <h1>ðŸ§  AI & Cognitive Biases â€” Interactive Matcher</h1>
        <div class="card" style="background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.08)); border:1px solid rgba(255,255,255,.2);">
          <h2>Welcome, Counselors!</h2>
          <p>Understanding cognitive biases around AI helps us serve clients more effectively and integrate new tools thoughtfullyâ€”without fear or denial.</p>
          <p>Match real-world scenarios with the cognitive biases or fallacies at play. <strong>Drag the scenario card onto the correct tile</strong> (or press <kbd>1-5</kbd> / click).</p>
          <p class="small" style="opacity:.95">Quick Play gives you 10 randomized rounds. Full Deck uses all items (36).</p>
          <div class="actions">
            <button class="btn" id="startQuick">ðŸš€ Quick Play (10)</button>
            <button class="btn secondary" id="startFull">ðŸ§© Full Deck (36)</button>
          </div>
        </div>
      </div>
    </section>

    <!-- GAME -->
    <section class="game" id="game">
      <div class="header">
        <div class="title">ðŸŽ¯ Match the Cognitive Bias</div>
        <div class="hud card">
          <div class="stat">Score:&nbsp;<span id="score">0</span><small>&nbsp;/&nbsp;</small><span id="total">0</span></div>
          <div class="stat">Accuracy:&nbsp;<span id="acc">0%</span></div>
        </div>
      </div>
      <div class="progress card"><div class="bar" id="bar">Question 0</div></div>

      <div class="main">
        <!-- LEFT -->
        <div class="scenario card">
          <div class="scenario-inner">
            <!-- Neutral abstract illustration (no answer cues) -->
            <div class="illustration" aria-hidden="true">
              <svg viewBox="0 0 400 400" class="pattern">
                <defs>
                  <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#667eea;stop-opacity:0.6" />
                    <stop offset="100%" style="stop-color:#764ba2;stop-opacity:0.35" />
                  </linearGradient>
                  <radialGradient id="glow" cx="50%" cy="50%" r="50%">
                    <stop offset="0%" stop-color="#aab4ff" stop-opacity=".35"/>
                    <stop offset="100%" stop-color="#ffffff" stop-opacity="0"/>
                  </radialGradient>
                </defs>
                <circle cx="200" cy="200" r="150" fill="url(#glow)" />
                <circle cx="200" cy="200" r="120" fill="url(#grad)" opacity=".35"/>
                <path d="M40,210 C120,80 280,80 360,210" stroke="url(#grad)" stroke-width="3" fill="none" opacity=".35"/>
                <path d="M40,230 C120,350 280,350 360,230" stroke="url(#grad)" stroke-width="3" fill="none" opacity=".22"/>
              </svg>
            </div>

            <div class="label">Counseling Scenario</div>
            <img id="sImg" class="scenario-img" alt="" />
            <div id="dragSrc" class="dragSrc" draggable="true" aria-grabbed="false" aria-label="Scenario card. Drag onto the correct fallacy tile.">
              <div class="text" id="scenario"></div>
            </div>
            <div class="dragTip">Drag this card onto a fallacy tile â†’ &nbsp; (or press <strong>1â€“5</strong>)</div>
          </div>
        </div>

        <!-- RIGHT -->
        <div class="choices card">
          <h3>Drop onto the correct fallacy</h3>
          <div class="targets" id="targets"></div>
        </div>
      </div>
    </section>

    <!-- DONE -->
    <section class="done" id="done">
      <div class="card" style="max-width:900px;">
        <h1>ðŸŽ‰ Game Complete!</h1>
        <p style="color:#555;font-size:1.03rem">Thoughtful integration beats fear â€” augment, donâ€™t replace, human care.</p>
        <div class="stats">
          <div class="statbox"><div class="lab">Final Score</div><div class="val" id="finalScore">0</div></div>
          <div class="statbox"><div class="lab">Accuracy</div><div class="val" id="finalAcc">0%</div></div>
        </div>
        <div class="actions" style="margin-top:10px">
          <button class="btn" id="playAgain">ðŸ”„ Play Again</button>
        </div>
      </div>
    </section>
  </div>

  <!-- FEEDBACK OVERLAY -->
  <div class="overlay" id="overlay" aria-modal="true" role="dialog">
    <div class="fbox" id="fbox">
      <button class="closex" id="closex" aria-label="Close feedback">Ã—</button>
      <h2 id="ficon">âœ“</h2>
      <p id="fmsg"></p>
      <div class="explain" id="explain"></div>
      <div class="stay">(Closes in <span id="count">8</span>s â€” or press <strong>Esc</strong>, click outside, or Ã—)</div>
    </div>
  </div>

  <script>
    // === 36-item dataset (kept intact) ===
    const DATA = [
      {name:"Status Quo Bias",cat:"Resistance",icon:"ðŸ”’",img:"status-quo.jpg",tag:"Preferring the familiarâ€”even when a better path is clear.",explain:`Tendency to keep current routines because change feels costly or risky.`,scenario:`A therapist insists on using only paper intake forms because â€œmy current system works fine,â€ despite clients requesting digital options and missing appointments due to paperwork delays.`},
      {name:"Belief Perseverance",cat:"Reasoning",icon:"ðŸ§±",img:"belief-perseverance.jpg",tag:"Clinging to a belief despite clear contrary evidence.",explain:`Existing beliefs are maintained even after receiving disconfirming evidence.`,scenario:`A clinical supervisor dismisses AI-assisted note-taking as â€œjust a fad,â€ even after three colleagues report saving 5+ hours weekly and having more energy for client care.`},
      {name:"Normalcy Bias",cat:"Resistance",icon:"ðŸ“…",img:"normalcy-bias.jpg",tag:"Assuming tomorrow will look like yesterday.",explain:`Underestimating the speed/impact of change; planning for continuity.`,scenario:`A counseling practice owner plans a 5-year expansion assuming AI capabilities will stay the same, ignoring monthly breakthroughs in mental health tech reported in professional journals.`},
      {name:"Attitude Polarization",cat:"Reasoning",icon:"ðŸŒ“",img:"attitude-polarization.jpg",tag:"Pre-judging; exposure to mixed info hardens the initial stance.",explain:`Evaluating new information in a way that strengthens preexisting views.`,scenario:`Before attending a workshop on AI tools for therapists, a counselor declares â€œmachines can never understand emotionsâ€ and decides the training will be useless.`},
      {name:"Rationalization",cat:"Defense",icon:"ðŸŽ­",img:"rationalization.jpg",tag:"Plausible-sounding excuses that mask avoidance.",explain:`Constructing reasons that soothe discomfort rather than reflect reality.`,scenario:`A psychologist creates elaborate arguments about â€œthe sacred therapeutic relationshipâ€ to avoid learning AI documentation tools, despite spending 2 hours nightly on paperwork instead of self-care.`},
      {name:"Appeal to Tradition",cat:"Fallacy",icon:"ðŸ“œ",img:"appeal-to-tradition.jpg",tag:"â€œWeâ€™ve always done it this way,â€ therefore itâ€™s best.",explain:`Arguing from custom rather than evidence, outcomes, or values.`,scenario:`A counselor argues against telehealth platforms with AI scheduling because â€œtherapists have always met clients face-to-face for 100 years, and we shouldnâ€™t change that now.â€`},
      {name:"In-group Bias",cat:"Fairness",icon:"ðŸ‘¥",img:"ingroup-bias.jpg",tag:"Serving those like us, overlooking those unlike us.",explain:`Favoring oneâ€™s own groupâ€”even when others could benefit.`,scenario:`A therapy clinic serves only affluent clients who can afford in-person sessions, refusing to adopt AI-enhanced teletherapy that could reach underserved rural communities.`},
      {name:"Catastrophizing",cat:"Distortion",icon:"ðŸ’¥",img:"catastrophizing.jpg",tag:"Jumping straight from change to doom.",explain:`Overestimating worst-case outcomes while neglecting realistic positives.`,scenario:`A counselor hears about AI therapy chatbots and immediately concludes â€œthis is the end of our professionâ€”weâ€™ll all be replaced within months,â€ refusing to explore how AI might assist rather than replace.`},
      {name:"Ambiguity Aversion",cat:"Risk",icon:"ðŸ˜°",img:"ambiguity-aversion.jpg",tag:"Unknowns feel riskier than known flaws.",explain:`Preference for familiar risks over uncertain alternatives.`,scenario:`A therapist who has never tried AI tools expresses intense anxiety about â€œrobots taking over therapyâ€ but becomes curious and calm after a 20-minute demo of AI transcription.`},
      {name:"Identity-Protective Cognition",cat:"Social",icon:"ðŸ›¡ï¸",img:"identity-threat.jpg",tag:"Protecting status/role by rejecting new information.",explain:`Discarding evidence that seems to diminish oneâ€™s professional identity.`,scenario:`When AI diagnostic support tools are introduced, a senior therapist argues passionately that â€œusing technology shows weâ€™re not real cliniciansâ€ to protect their sense of expertise.`},
      {name:"Negativity Bias",cat:"Attention",icon:"ðŸ“‰",img:"negativity-bias.jpg",tag:"Bad news sticks; good news slides off.",explain:`Attending to and recalling negative information more strongly.`,scenario:`A counselor becomes obsessed with articles predicting â€œAI will eliminate all therapy jobs by 2030,â€ checking daily for apocalyptic news rather than learning adaptive skills.`},
      {name:"Ostrich Effect (Information Avoidance)",cat:"Attention",icon:"ðŸª¶",img:"ostrich-effect.jpg",tag:"Avoiding info that could cause psychological discomfort.",explain:`Deliberately avoiding knowledge that could require change.`,scenario:`A therapist avoids even reading about AI mental health tools because the unfamiliarity makes them anxious, preferring to stay in their comfort zone regardless of client needs.`},
      {name:"Availability Heuristic",cat:"Judgment",icon:"ðŸ“°",img:"availability-heuristic.jpg",tag:"Whatâ€™s vivid feels frequent or likely.",explain:`Estimating risk by ease of recall, not base rates.`,scenario:`After reading one viral article about an AI chatbot giving harmful advice, a counselor assumes all AI mental health tools are dangerous, ignoring thousands of successful clinical implementations.`},
      {name:"Confirmation Bias",cat:"Reasoning",icon:"ðŸ”",img:"confirmation-bias.jpg",tag:"Seeking only what affirms what we already believe.",explain:`Filtering for confirmatory evidence while neglecting disconfirming data.`,scenario:`A therapist skeptical of AI only reads articles criticizing mental health technology while ignoring peer-reviewed studies showing positive outcomes from AI-assisted interventions.`},
      {name:"Cognitive Dissonance",cat:"Conflict",icon:"ðŸ˜µ",img:"cognitive-dissonance.jpg",tag:"Tension between cherished beliefs and new facts.",explain:`Psychological discomfort from holding conflicting ideas/behaviors.`,scenario:`A counselor who claims â€œAI has no place in therapyâ€ feels uncomfortable when their favorite professional development platform uses AI to personalize course recommendations and becomes defensive.`},
      {name:"Need for Closure",cat:"Motivation",icon:"ðŸšª",img:"need-for-closure.jpg",tag:"Craving a definitive answer right now.",explain:`Low tolerance for uncertainty or open-ended inquiry.`,scenario:`When asked about AI in counseling, a therapist quickly declares â€œitâ€™s either good or badâ€”I need to decide nowâ€ instead of exploring the nuanced implications over time.`},
      {name:"Intolerance of Uncertainty",cat:"Risk",icon:"âš–ï¸",img:"intolerance-uncertainty.jpg",tag:"If it isnâ€™t guaranteed, it canâ€™t be tried.",explain:`Difficulty proceeding amid reasonable unknowns.`,scenario:`A supervisor demands absolute certainty about AIâ€™s future impact on therapy before considering any pilot program, unable to proceed with reasonable uncertainty.`},
      {name:"Red Herring",cat:"Fallacy",icon:"ðŸŸ",img:"red-herring.jpg",tag:"Changing the topic to dodge the decision.",explain:`Introducing an irrelevant issue to avoid the core question.`,scenario:`During a discussion about using AI for scheduling efficiency, a therapist derails the conversation by debating whether AI has â€œtrue consciousness,â€ avoiding practical planning.`},
      {name:"Attentional Bias",cat:"Attention",icon:"ðŸŽ¯",img:"attentional-bias.jpg",tag:"Fixating on one feature; ignoring the rest.",explain:`Over-weighting a salient attribute while neglecting broader impacts.`,scenario:`A counselor fixates on AIâ€™s lack of empathy while ignoring how AI administrative tools could give them 10 more hours weekly for actual empathetic client contact.`},
      {name:"Information Bias (Analysis Paralysis)",cat:"Decision",icon:"ðŸ§®",img:"information-bias.jpg",tag:"Seeking info that wonâ€™t change the decision instead of testing.",explain:`Overvaluing additional discussion/research when a small experiment would be more informative.`,scenario:`A therapy group spends six months debating whether to try AI transcription without ever running a simple 2-week pilot that would provide real data about its usefulness.`},
      {name:"Sunk Cost Fallacy",cat:"Decision",icon:"ðŸ’¸",img:"sunk-cost.jpg",tag:"Past effort traps present choices.",explain:`Continuing an inferior option due to prior investment.`,scenario:`A counselor continues using an outdated practice management system because â€œI invested so much time learning itâ€ even though AI-enhanced alternatives would save hours and reduce errors.`},
      {name:"False Dichotomy",cat:"Fallacy",icon:"âš¡",img:"false-dichotomy.jpg",tag:"Only two extreme choicesâ€”or so it seems.",explain:`Forcing an either/or frame while ignoring middle paths.`,scenario:`A therapist insists â€œwe either embrace AI completely and lose our humanity, or reject it entirely and stay authentic,â€ ignoring the middle ground of thoughtful, selective integration.`},
      {name:"Anchoring",cat:"Judgment",icon:"âš“",img:"anchoring.jpg",tag:"First beliefs set the reference point.",explain:`Initial assumptions unduly shape later judgments.`,scenario:`A seasoned therapist experiences profound disorientation realizing AI can draft clinical summaries as well as they can, struggling to update from a long-held anchor about human exclusivity.`},
      {name:"Cognitive Dissonance (Resolution)",cat:"Conflict",icon:"ðŸ”„",img:"dissonance-resolution.jpg",tag:"Updating beliefs can feel awkward before it feels right.",explain:`Adjusting beliefs/behaviors to reduce dissonance after new evidence.`,scenario:`A counselor updates their belief that â€œtechnology always depersonalizes careâ€ after using AI tools that actually increase client face-time, causing temporary mental discomfort during the shift.`},
      {name:"Motivated Reasoning",cat:"Reasoning",icon:"ðŸ§ ",img:"motivated-reasoning.jpg",tag:"Reasoning toward the conclusion we prefer.",explain:`Evaluating evidence based on desired conclusions rather than accuracy.`,scenario:`A therapist insists â€œhumans are inherently better at therapyâ€ as a psychological comfort, even when AI-supported interventions show equal or better outcomes in certain contexts.`},
      {name:"Argument from Incredulity",cat:"Fallacy",icon:"â“",img:"incredulity.jpg",tag:"â€œI canâ€™t imagine it, so it canâ€™t be true.â€",explain:`Concluding something is false because it seems hard to believe.`,scenario:`A counselor dismisses AI mood-tracking apps because â€œonly humans can understand emotions,â€ excluding the possibility that pattern recognition might complement human intuition.`},
      {name:"Loss Aversion",cat:"Decision",icon:"ðŸ“‰",img:"loss-aversion.jpg",tag:"Losses loom larger than equal gains.",explain:`Overweighting potential losses relative to similar gains.`,scenario:`A newly licensed therapist lies awake worrying â€œAI will make my degree worthlessâ€ instead of exploring how to develop AI-complementary skills that increase their marketability.`},
      {name:"Availability Cascade",cat:"Social",icon:"ðŸ“¢",img:"availability-cascade.jpg",tag:"Repeated claims start to feel like facts.",explain:`Perceived truth increases as ideas are amplified through repetition.`,scenario:`A therapist repeatedly watches videos predicting â€œAI will destroy mental health careâ€ to fuel their anger and anxiety, spending hours in outrage rather than constructive learning.`},
      {name:"Anthropomorphism",cat:"Attribution",icon:"ðŸ¤–",img:"anthropomorphism.jpg",tag:"Giving tools human motives and feelings.",explain:`Ascribing intention or emotion to a nonhuman system.`,scenario:`A counselor treats an AI chatbot as if it has feelings and intentions, telling colleagues â€œthe AI is trying to replace usâ€ as if the tool has motivations rather than functions.`},
      {name:"Automation Bias",cat:"Trust",icon:"âœ¨",img:"automation-bias.jpg",tag:"Over-trusting the system; under-checking yourself.",explain:`Excessive reliance on automated outputs over professional judgment.`,scenario:`A therapist prefers consulting AI for clinical advice over peer consultation because â€œAI never judges my questions,â€ avoiding the valuable but imperfect feedback from colleagues.`},
      {name:"Projection",cat:"Defense",icon:"ðŸªž",img:"projection.jpg",tag:"My fear, your problem.",explain:`Attributing oneâ€™s own uncomfortable feelings to others.`,scenario:`A counselor who secretly fears inadequacy accuses others who use AI tools of â€œfeeling threatened and trying to cheat,â€ projecting their own insecurities onto colleagues.`},
      {name:"Illusory Pattern (Conspiracy Thinking)",cat:"Perception",icon:"ðŸ•µï¸",img:"illusory-pattern.jpg",tag:"Seeing plots where none exist.",explain:`Detecting intent/patterns in unrelated events.`,scenario:`A therapist believes tech companies are â€œsecretly programming AI to destroy the counseling professionâ€ and sees evidence of this conspiracy in every AI mental health announcement.`},
      {name:"Magical Thinking",cat:"Distortion",icon:"âœ¨",img:"magical-thinking.jpg",tag:"Wishful or mystical causality replaces evidence.",explain:`Believing thoughts or tools have supernatural power.`,scenario:`A counselor believes AI has mystical powers to read minds and predict the future, far beyond what the technology actually does, leading to either unrealistic fear or inflated expectations.`},
      {name:"Echo Chamber Effect",cat:"Social",icon:"ðŸï¸",img:"echo-chamber.jpg",tag:"Only hearing people who already agree.",explain:`Information loops that amplify existing beliefs.`,scenario:`A therapist spends hours daily asking AI to validate increasingly detached theories about therapy, creating an isolated intellectual bubble disconnected from clinical reality and peer feedback.`},
      {name:"Illusory Superiority",cat:"Self",icon:"ðŸ†",img:"illusory-superiority.jpg",tag:"Believing youâ€™re uniquely exempt or chosen.",explain:`Overestimating oneâ€™s special status or abilities relative to peers.`,scenario:`A counselor believes AI has â€œchosen themâ€ to receive special insights about the future of therapy, claiming a unique destiny that sets them apart from â€œordinaryâ€ colleagues.`},
      {name:"Overconfidence Effect",cat:"Judgment",icon:"ðŸ“ˆ",img:"overconfidence.jpg",tag:"Confidence outpaces calibration.",explain:`Subjective confidence exceeds objective accuracy or feedback.`,scenario:`A therapist stops attending peer supervision, believing only AI understands their â€œrevolutionaryâ€ views on mental health, cutting themselves off from professional community.`}
    ];

    // ---- State & helpers ----
    const $ = s => document.querySelector(s);
    const shuffle = a => a.map(v => [Math.random(), v]).sort((x,y)=>x[0]-y[0]).map(x=>x[1]);
    const state = { deck:[], qIndex:0, score:0, attempts:0, total:0, current:null };

    function startGame(n){
      $('#welcome').style.display='none';
      $('#done').style.display='none';
      $('#game').style.display='grid';
      state.deck = shuffle([...DATA]).slice(0, Math.min(n, DATA.length));
      state.qIndex=0; state.score=0; state.attempts=0; state.total=state.deck.length;
      $('#total').textContent = state.total; $('#score').textContent = 0; $('#acc').textContent = '0%';
      renderQuestion();
    }

    function renderQuestion(){
      const item = state.deck[state.qIndex];
      state.current = item;

      // optional image (kept hidden unless file exists)
      const imgEl = document.getElementById('sImg');
      if(item.img){
        imgEl.src = 'images/' + item.img;
        imgEl.alt = item.name + ' illustration';
        imgEl.style.display = 'block';
        imgEl.onerror = ()=> { imgEl.style.display='none'; };
      } else {
        imgEl.style.display = 'none';
      }

      document.getElementById('scenario').textContent = item.scenario;
      updateProgress();

      // 1 correct + 4 distractors
      const pool = DATA.filter(x => x.name !== item.name);
      const distractors = shuffle(pool).slice(0,4);
      const opts = shuffle([item, ...distractors]);
      const letters = ['A','B','C','D','E'];

      // IMPORTANT: do NOT render icons/emojis to avoid answer cues
      document.getElementById('targets').innerHTML = opts.map((o,i)=>`
        <div class="tile" tabindex="0" role="button" aria-label="${o.name}" data-name="${o.name.replace(/"/g,'&quot;')}">
          <div class="letter">${letters[i]}</div>
          <div>
            <div class="tname">${o.name}</div>
            <div class="tcat">${o.cat}</div>
            <div class="tdesc">${o.tag || ''}</div>
          </div>
        </div>`).join('');

      // DnD + clicks
      const src = document.getElementById('dragSrc');
      src.setAttribute('draggable','true');
      src.addEventListener('dragstart',e=>{ e.dataTransfer.setData('text/plain','scenario'); src.setAttribute('aria-grabbed','true'); });
      src.addEventListener('dragend',()=> src.setAttribute('aria-grabbed','false'));

      document.querySelectorAll('.tile').forEach(tile=>{
        tile.addEventListener('dragover',e=>{ e.preventDefault(); tile.style.borderColor='#667eea'; });
        tile.addEventListener('dragleave',()=>{ tile.style.borderColor='transparent'; });
        tile.addEventListener('drop',e=>{ e.preventDefault(); tile.style.borderColor='transparent'; handleChoice(tile.getAttribute('data-name')); });
        tile.addEventListener('click',()=> handleChoice(tile.getAttribute('data-name')));
        tile.addEventListener('keydown',e=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); handleChoice(tile.getAttribute('data-name')); }});
      });

      // keyboard 1â€“5
      window.onkeydown = e=>{
        if(['1','2','3','4','5'].includes(e.key)){
          const idx = parseInt(e.key,10)-1;
          const t = document.querySelectorAll('.tile')[idx];
          if(t) handleChoice(t.getAttribute('data-name'));
        }
      };
    }

    async function handleChoice(name){
      const correct = state.current;
      const ok = name === correct.name;
      state.attempts++;

      document.querySelectorAll('.tile').forEach(t=>{
        const isSel = t.getAttribute('data-name') === name;
        if(isSel) t.classList.add(ok ? 'correct' : 'incorrect');
        t.style.pointerEvents = 'none';
      });

      if(ok){ state.score++; await showFeedback(true, `Correct â€” ${correct.name}`, correct.explain); }
      else   { await showFeedback(false, `Not quite. Answer: ${correct.name}`, correct.explain); }

      updateHUD();
      next();
    }

    function updateHUD(){
      document.getElementById('score').textContent = state.score;
      const acc = state.attempts ? Math.round((state.score/state.attempts)*100) : 0;
      document.getElementById('acc').textContent = acc + '%';
    }

    function updateProgress(){
      const pct = Math.round(((state.qIndex+1)/state.total)*100);
      const bar = document.getElementById('bar');
      bar.style.width = pct + '%';
      bar.textContent = `Question ${state.qIndex+1} of ${state.total}`;
    }

    function next(){
      state.qIndex++;
      if(state.qIndex < state.total){ renderQuestion(); }
      else { finish(); }
    }

    function finish(){
      document.getElementById('game').style.display='none';
      document.getElementById('done').style.display='grid';
      document.getElementById('finalScore').textContent = `${state.score}/${state.total}`;
      const acc = state.attempts ? Math.round((state.score/state.attempts)*100) : 0;
      document.getElementById('finalAcc').textContent = acc + '%';
    }

    // Feedback overlay (8s) with dismiss
    const AUTO_CLOSE_MS = 8000;
    function showFeedback(ok,msg,explain){
      return new Promise(resolve=>{
        const o = document.getElementById('overlay'),
              box = document.getElementById('fbox'),
              close = document.getElementById('closex'),
              count = document.getElementById('count');
        box.className = 'fbox ' + (ok?'correct':'incorrect');
        document.getElementById('ficon').textContent = ok ? 'âœ“' : 'âœ—';
        document.getElementById('fmsg').textContent = msg;
        document.getElementById('explain').textContent = explain || '';
        let remaining = Math.floor(AUTO_CLOSE_MS/1000);
        count.textContent = remaining;
        o.classList.add('show');
        const tick = setInterval(()=>{ remaining--; if(remaining>=0) count.textContent=remaining; },1000);
        const cleanup=()=>{ clearInterval(tick); o.classList.remove('show'); o.removeEventListener('click',outside); close.removeEventListener('click',onClose); document.removeEventListener('keydown',onEsc); clearTimeout(timer); resolve(); };
        const outside=e=>{ if(e.target===o) cleanup(); };
        const onClose=()=>cleanup();
        const onEsc=e=>{ if(e.key==='Escape') cleanup(); };
        o.addEventListener('click',outside); close.addEventListener('click',onClose); document.addEventListener('keydown',onEsc);
        const timer=setTimeout(()=>cleanup(),AUTO_CLOSE_MS);
      });
    }

    // buttons
    document.getElementById('startQuick').addEventListener('click',()=>startGame(10));
    document.getElementById('startFull').addEventListener('click',()=>startGame(DATA.length));
    document.getElementById('playAgain').addEventListener('click',()=>document.location.reload());
  </script>
</body>
</html>
